(()=>{var e={};e.id=395,e.ids=[395],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},38834:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var i=r(90735),o=r(91232),a=r(72914),l=r.n(a),n=r(40085),s={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>n[e]);r.d(t,s);let d=["",{children:["bills",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,32261)),"/Users/eliaseduardogonzalezsotelo/final-project/front/app/bills/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,65813)),"/Users/eliaseduardogonzalezsotelo/final-project/front/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,68270,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/eliaseduardogonzalezsotelo/final-project/front/app/bills/page.jsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/bills/page",pathname:"/bills",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},12064:(e,t,r)=>{Promise.resolve().then(r.bind(r,32261))},75616:(e,t,r)=>{Promise.resolve().then(r.bind(r,13357))},13357:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var i=r(42725),o=r(10444),a=r(19620),l=r(36428),n=r(6646),s=r(62136),d=r(23772),c=r(30692),p=r(36286),u=r(79540),h=r(4523),f=r(91616);function v(){let[e,t]=(0,f.useState)([]),[r,v]=(0,f.useState)(!0),x=e.reduce((e,t)=>e+t.id_services.length,0),g=e.length,m=e.reduce((e,t)=>e+t.totalAmount,0),b=async r=>{try{let i=await fetch(`http://127.0.0.1:5000/api/v1/bills/${r}`,{method:"DELETE"});if(!i.ok)throw Error(`Error deleting invoice: ${i.statusText}`);t(e.filter(e=>e._id!==r))}catch(e){console.error(e)}};return r?(0,i.jsx)(o.default,{children:"Loading Invoices..."}):(0,i.jsxs)(a.default,{maxWidth:"lg",disableGutters:!0,sx:{px:{xs:2,sm:4,md:6},py:4},children:[(0,i.jsxs)(l.default,{sx:{mb:8},children:[(0,i.jsx)(o.default,{variant:"h2",fontWeight:700,sx:{mt:10},children:"Your Invoices"}),(0,i.jsx)(o.default,{variant:"body1",sx:{mt:2},children:"Review all your weekly invoices for the services you've subscribed to."})]}),(0,i.jsxs)(n.default,{container:!0,spacing:4,sx:{mb:6},children:[(0,i.jsx)(n.default,{item:!0,xs:12,md:4,children:(0,i.jsx)(s.default,{sx:{textAlign:"center"},children:(0,i.jsxs)(d.default,{children:[(0,i.jsx)(o.default,{variant:"h5",fontWeight:700,children:"Services Used"}),(0,i.jsx)(o.default,{variant:"h4",color:"rgb(63,94,251)",fontWeight:700,children:x})]})})}),(0,i.jsx)(n.default,{item:!0,xs:12,md:4,children:(0,i.jsx)(s.default,{sx:{textAlign:"center"},children:(0,i.jsxs)(d.default,{children:[(0,i.jsx)(o.default,{variant:"h5",fontWeight:700,children:"Total Invoices"}),(0,i.jsx)(o.default,{variant:"h4",color:"rgb(63,94,251)",fontWeight:700,children:g})]})})}),(0,i.jsx)(n.default,{item:!0,xs:12,md:4,children:(0,i.jsx)(s.default,{sx:{textAlign:"center"},children:(0,i.jsxs)(d.default,{children:[(0,i.jsx)(o.default,{variant:"h5",fontWeight:700,children:"Total Spent"}),(0,i.jsxs)(o.default,{variant:"h4",color:"rgb(63,94,251)",fontWeight:700,children:["$",m.toFixed(2)]})]})})})]}),(0,i.jsx)(c.A,{sx:{my:2,mb:5}}),(0,i.jsx)(n.default,{container:!0,spacing:4,children:e.map(e=>(0,i.jsx)(n.default,{item:!0,xs:12,md:6,children:(0,i.jsxs)(p.A,{elevation:3,sx:{p:3,"&:hover":{transform:"scale(1.03)",transition:"transform 0.3s ease-in-out",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.2)"}},children:[(0,i.jsxs)(o.default,{variant:"h5",fontWeight:700,children:["Invoice ID: ",e._id]}),(0,i.jsxs)(o.default,{variant:"body1",color:"text.secondary",children:["Date: ",new Date(e.date).toLocaleDateString()]}),(0,i.jsx)(c.A,{sx:{my:2}}),(0,i.jsx)(u.default,{spacing:1,children:e.id_services.map((e,t)=>(0,i.jsx)(l.default,{children:(0,i.jsxs)(o.default,{variant:"body1",children:[(0,i.jsx)("strong",{children:e.name}),": $",e.amount.toFixed(2)]})},t))}),(0,i.jsx)(c.A,{sx:{my:2}}),(0,i.jsxs)(o.default,{variant:"h6",fontWeight:700,children:["Total: $",e.totalAmount.toFixed(2)]}),(0,i.jsx)(h.default,{variant:"outlined",color:"error",sx:{mt:2},onClick:()=>b(e._id),children:"Delete"})]})},e._id))})]})}},62136:(e,t,r)=>{"use strict";r.d(t,{default:()=>v});var i=r(91616),o=r(53626),a=r(31730),l=r(52663),n=r(25870),s=r(36286),d=r(61968),c=r(18080);function p(e){return(0,c.Ay)("MuiCard",e)}(0,d.A)("MuiCard",["root"]);var u=r(42725);let h=e=>{let{classes:t}=e;return(0,a.A)({root:["root"]},p,t)},f=(0,l.default)(s.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),v=i.forwardRef(function(e,t){let r=(0,n.b)({props:e,name:"MuiCard"}),{className:i,raised:a=!1,...l}=r,s={...r,raised:a},d=h(s);return(0,u.jsx)(f,{className:(0,o.A)(d.root,i),elevation:a?8:void 0,ref:t,ownerState:s,...l})})},23772:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var i=r(91616),o=r(53626),a=r(31730),l=r(52663),n=r(25870),s=r(61968),d=r(18080);function c(e){return(0,d.Ay)("MuiCardContent",e)}(0,s.A)("MuiCardContent",["root"]);var p=r(42725);let u=e=>{let{classes:t}=e;return(0,a.A)({root:["root"]},c,t)},h=(0,l.default)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),f=i.forwardRef(function(e,t){let r=(0,n.b)({props:e,name:"MuiCardContent"}),{className:i,component:a="div",...l}=r,s={...r,component:a},d=u(s);return(0,p.jsx)(h,{as:a,className:(0,o.A)(d.root,i),ownerState:s,ref:t,...l})})},30692:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var i=r(91616),o=r(53626),a=r(31730),l=r(78612),n=r(52663),s=r(20097),d=r(25870),c=r(37898),p=r(42725);let u=e=>{let{absolute:t,children:r,classes:i,flexItem:o,light:l,orientation:n,textAlign:s,variant:d}=e;return(0,a.A)({root:["root",t&&"absolute",d,l&&"light","vertical"===n&&"vertical",o&&"flexItem",r&&"withChildren",r&&"vertical"===n&&"withChildrenVertical","right"===s&&"vertical"!==n&&"textAlignRight","left"===s&&"vertical"!==n&&"textAlignLeft"],wrapper:["wrapper","vertical"===n&&"wrapperVertical"]},c.K,i)},h=(0,n.default)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((0,s.A)(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:(0,l.X4)(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&"vertical"!==e.orientation,style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>"vertical"===e.orientation&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>"right"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>"left"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),f=(0,n.default)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((0,s.A)(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),v=i.forwardRef(function(e,t){let r=(0,d.b)({props:e,name:"MuiDivider"}),{absolute:i=!1,children:a,className:l,orientation:n="horizontal",component:s=a||"vertical"===n?"div":"hr",flexItem:c=!1,light:v=!1,role:x="hr"!==s?"separator":void 0,textAlign:g="center",variant:m="fullWidth",...b}=r,j={...r,absolute:i,component:s,flexItem:c,light:v,orientation:n,role:x,textAlign:g,variant:m},y=u(j);return(0,p.jsx)(h,{as:s,className:(0,o.A)(y.root,l),role:x,ref:t,ownerState:j,"aria-orientation":"separator"===x&&("hr"!==s||"vertical"===n)?n:void 0,...b,children:a?(0,p.jsx)(f,{className:y.wrapper,ownerState:j,children:a}):null})});v&&(v.muiSkipListHighlight=!0);let x=v},79540:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var i=r(88284),o=r(52663),a=r(25870);let l=(0,i.A)({createStyledComponent:(0,o.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,a.b)({props:e,name:"MuiStack"})})},32261:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(72771).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/eliaseduardogonzalezsotelo/final-project/front/app/bills/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/eliaseduardogonzalezsotelo/final-project/front/app/bills/page.jsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[792,993],()=>r(38834));module.exports=i})();